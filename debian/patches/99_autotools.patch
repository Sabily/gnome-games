Index: gnome-games-2.26.0/configure
===================================================================
--- gnome-games-2.26.0.orig/configure	2009-03-27 12:10:55.000000000 +0000
+++ gnome-games-2.26.0/configure	2009-03-27 12:11:30.000000000 +0000
@@ -9299,8 +9299,9 @@
 # FIXME: we rely on the cache variable name because
 # there is no other way.
 set dummy $CC
-ac_cc=`echo $2 | sed 's/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/'`
-if eval "test \"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\" != yes"; then
+am_cc=`echo $2 | sed 's/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/'`
+eval am_t=\$ac_cv_prog_cc_${am_cc}_c_o
+if test "$am_t" != yes; then
    # Losing compiler, so override with the script.
    # FIXME: It is wrong to rewrite CC.
    # But if we don't then we get into trouble of one sort or another.
@@ -9796,13 +9797,13 @@
 else
   lt_cv_nm_interface="BSD nm"
   echo "int some_variable = 0;" > conftest.$ac_ext
-  (eval echo "\"\$as_me:9799: $ac_compile\"" >&5)
+  (eval echo "\"\$as_me:9800: $ac_compile\"" >&5)
   (eval "$ac_compile" 2>conftest.err)
   cat conftest.err >&5
-  (eval echo "\"\$as_me:9802: $NM \\\"conftest.$ac_objext\\\"\"" >&5)
+  (eval echo "\"\$as_me:9803: $NM \\\"conftest.$ac_objext\\\"\"" >&5)
   (eval "$NM \"conftest.$ac_objext\"" 2>conftest.err > conftest.out)
   cat conftest.err >&5
-  (eval echo "\"\$as_me:9805: output\"" >&5)
+  (eval echo "\"\$as_me:9806: output\"" >&5)
   cat conftest.out >&5
   if $GREP 'External.*some_variable' conftest.out > /dev/null; then
     lt_cv_nm_interface="MS dumpbin"
@@ -10993,7 +10994,7 @@
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 10996 "configure"' > conftest.$ac_ext
+  echo '#line 10997 "configure"' > conftest.$ac_ext
   if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
@@ -13078,11 +13079,11 @@
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13081: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13082: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:13085: \$? = $ac_status" >&5
+   echo "$as_me:13086: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
@@ -13417,11 +13418,11 @@
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13420: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13421: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:13424: \$? = $ac_status" >&5
+   echo "$as_me:13425: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
@@ -13522,11 +13523,11 @@
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13525: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13526: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:13529: \$? = $ac_status" >&5
+   echo "$as_me:13530: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
@@ -13577,11 +13578,11 @@
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13580: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13581: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:13584: \$? = $ac_status" >&5
+   echo "$as_me:13585: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
@@ -16390,7 +16391,7 @@
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<_LT_EOF
-#line 16393 "configure"
+#line 16394 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
@@ -16486,7 +16487,7 @@
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<_LT_EOF
-#line 16489 "configure"
+#line 16490 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
@@ -18506,11 +18507,11 @@
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18509: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18510: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:18513: \$? = $ac_status" >&5
+   echo "$as_me:18514: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
@@ -18605,11 +18606,11 @@
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18608: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18609: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:18612: \$? = $ac_status" >&5
+   echo "$as_me:18613: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
@@ -18657,11 +18658,11 @@
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18660: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18661: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:18664: \$? = $ac_status" >&5
+   echo "$as_me:18665: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
@@ -20985,7 +20986,6 @@
 # ********************
 
 PYGTK_REQUIRED=2.10.0
-GNOME_PYTHON_DESKTOP_REQUIRED=2.17.3
 
 if test "$with_platform" = "hildon" -a "$with_platform_variant" = "maemo3"; then
 GTK_REQUIRED=2.6.0
@@ -21465,12 +21465,15 @@
         pkg_cv_GNOME_CFLAGS="$GNOME_CFLAGS"
     else
         if test -n "$PKG_CONFIG" && \
-    { ($as_echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"gconf-2.0 >= \$GCONF_REQUIRED\"") >&5
-  ($PKG_CONFIG --exists --print-errors "gconf-2.0 >= $GCONF_REQUIRED") 2>&5
+    { ($as_echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"gconf-2.0 >= \$GCONF_REQUIRED
+                             launchpad-integration\"") >&5
+  ($PKG_CONFIG --exists --print-errors "gconf-2.0 >= $GCONF_REQUIRED
+                             launchpad-integration") 2>&5
   ac_status=$?
   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  pkg_cv_GNOME_CFLAGS=`$PKG_CONFIG --cflags "gconf-2.0 >= $GCONF_REQUIRED" 2>/dev/null`
+  pkg_cv_GNOME_CFLAGS=`$PKG_CONFIG --cflags "gconf-2.0 >= $GCONF_REQUIRED
+                             launchpad-integration" 2>/dev/null`
 else
   pkg_failed=yes
 fi
@@ -21483,12 +21486,15 @@
         pkg_cv_GNOME_LIBS="$GNOME_LIBS"
     else
         if test -n "$PKG_CONFIG" && \
-    { ($as_echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"gconf-2.0 >= \$GCONF_REQUIRED\"") >&5
-  ($PKG_CONFIG --exists --print-errors "gconf-2.0 >= $GCONF_REQUIRED") 2>&5
+    { ($as_echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"gconf-2.0 >= \$GCONF_REQUIRED
+                             launchpad-integration\"") >&5
+  ($PKG_CONFIG --exists --print-errors "gconf-2.0 >= $GCONF_REQUIRED
+                             launchpad-integration") 2>&5
   ac_status=$?
   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  pkg_cv_GNOME_LIBS=`$PKG_CONFIG --libs "gconf-2.0 >= $GCONF_REQUIRED" 2>/dev/null`
+  pkg_cv_GNOME_LIBS=`$PKG_CONFIG --libs "gconf-2.0 >= $GCONF_REQUIRED
+                             launchpad-integration" 2>/dev/null`
 else
   pkg_failed=yes
 fi
@@ -21507,14 +21513,17 @@
         _pkg_short_errors_supported=no
 fi
         if test $_pkg_short_errors_supported = yes; then
-	        GNOME_PKG_ERRORS=`$PKG_CONFIG --short-errors --errors-to-stdout --print-errors "gconf-2.0 >= $GCONF_REQUIRED"`
+	        GNOME_PKG_ERRORS=`$PKG_CONFIG --short-errors --errors-to-stdout --print-errors "gconf-2.0 >= $GCONF_REQUIRED
+                             launchpad-integration"`
         else
-	        GNOME_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "gconf-2.0 >= $GCONF_REQUIRED"`
+	        GNOME_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "gconf-2.0 >= $GCONF_REQUIRED
+                             launchpad-integration"`
         fi
 	# Put the nasty error message in config.log where it belongs
 	echo "$GNOME_PKG_ERRORS" >&5
 
-	{ { $as_echo "$as_me:$LINENO: error: Package requirements (gconf-2.0 >= $GCONF_REQUIRED) were not met:
+	{ { $as_echo "$as_me:$LINENO: error: Package requirements (gconf-2.0 >= $GCONF_REQUIRED
+                             launchpad-integration) were not met:
 
 $GNOME_PKG_ERRORS
 
@@ -21525,7 +21534,8 @@
 and GNOME_LIBS to avoid the need to call pkg-config.
 See the pkg-config man page for more details.
 " >&5
-$as_echo "$as_me: error: Package requirements (gconf-2.0 >= $GCONF_REQUIRED) were not met:
+$as_echo "$as_me: error: Package requirements (gconf-2.0 >= $GCONF_REQUIRED
+                             launchpad-integration) were not met:
 
 $GNOME_PKG_ERRORS
 
@@ -22473,17 +22483,14 @@
     else
         if test -n "$PKG_CONFIG" && \
     { ($as_echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"
-    pygtk-2.0 >= \$PYGTK_REQUIRED
-    gnome-python-desktop-2.0 >= \$GNOME_PYTHON_DESKTOP_REQUIRED\"") >&5
+    pygtk-2.0 >= \$PYGTK_REQUIRED\"") >&5
   ($PKG_CONFIG --exists --print-errors "
-    pygtk-2.0 >= $PYGTK_REQUIRED
-    gnome-python-desktop-2.0 >= $GNOME_PYTHON_DESKTOP_REQUIRED") 2>&5
+    pygtk-2.0 >= $PYGTK_REQUIRED") 2>&5
   ac_status=$?
   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
   pkg_cv_PYGTK_CFLAGS=`$PKG_CONFIG --cflags "
-    pygtk-2.0 >= $PYGTK_REQUIRED
-    gnome-python-desktop-2.0 >= $GNOME_PYTHON_DESKTOP_REQUIRED" 2>/dev/null`
+    pygtk-2.0 >= $PYGTK_REQUIRED" 2>/dev/null`
 else
   pkg_failed=yes
 fi
@@ -22497,17 +22504,14 @@
     else
         if test -n "$PKG_CONFIG" && \
     { ($as_echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"
-    pygtk-2.0 >= \$PYGTK_REQUIRED
-    gnome-python-desktop-2.0 >= \$GNOME_PYTHON_DESKTOP_REQUIRED\"") >&5
+    pygtk-2.0 >= \$PYGTK_REQUIRED\"") >&5
   ($PKG_CONFIG --exists --print-errors "
-    pygtk-2.0 >= $PYGTK_REQUIRED
-    gnome-python-desktop-2.0 >= $GNOME_PYTHON_DESKTOP_REQUIRED") 2>&5
+    pygtk-2.0 >= $PYGTK_REQUIRED") 2>&5
   ac_status=$?
   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
   pkg_cv_PYGTK_LIBS=`$PKG_CONFIG --libs "
-    pygtk-2.0 >= $PYGTK_REQUIRED
-    gnome-python-desktop-2.0 >= $GNOME_PYTHON_DESKTOP_REQUIRED" 2>/dev/null`
+    pygtk-2.0 >= $PYGTK_REQUIRED" 2>/dev/null`
 else
   pkg_failed=yes
 fi
@@ -22527,12 +22531,10 @@
 fi
         if test $_pkg_short_errors_supported = yes; then
 	        PYGTK_PKG_ERRORS=`$PKG_CONFIG --short-errors --errors-to-stdout --print-errors "
-    pygtk-2.0 >= $PYGTK_REQUIRED
-    gnome-python-desktop-2.0 >= $GNOME_PYTHON_DESKTOP_REQUIRED"`
+    pygtk-2.0 >= $PYGTK_REQUIRED"`
         else
 	        PYGTK_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "
-    pygtk-2.0 >= $PYGTK_REQUIRED
-    gnome-python-desktop-2.0 >= $GNOME_PYTHON_DESKTOP_REQUIRED"`
+    pygtk-2.0 >= $PYGTK_REQUIRED"`
         fi
 	# Put the nasty error message in config.log where it belongs
 	echo "$PYGTK_PKG_ERRORS" >&5
@@ -22560,8 +22562,8 @@
 fi
 
 if test "$enable_python" = "no" -a "$need_python" = "yes"; then
-  { { $as_echo "$as_me:$LINENO: error: Some games need python, but python, pygtk or gnome-python-desktop packages were not found." >&5
-$as_echo "$as_me: error: Some games need python, but python, pygtk or gnome-python-desktop packages were not found." >&2;}
+  { { $as_echo "$as_me:$LINENO: error: Some games need python, but python or pygtk packages were not found." >&5
+$as_echo "$as_me: error: Some games need python, but python or pygtk packages were not found." >&2;}
    { (exit 1); exit 1; }; }
 fi
 
@@ -23758,7 +23760,7 @@
 do
   for j in $libggz_header;
   do
-    echo "configure: 23761: $i/$j" >&5
+    echo "configure: 23763: $i/$j" >&5
     if test -r "$i/$j"; then
       echo "taking that" >&5
       libggz_incdir=$i
@@ -24032,7 +24034,7 @@
 do
   for j in $ggzmod_header;
   do
-    echo "configure: 24035: $i/$j" >&5
+    echo "configure: 24037: $i/$j" >&5
     if test -r "$i/$j"; then
       echo "taking that" >&5
       ggzmod_incdir=$i
@@ -24172,7 +24174,7 @@
 do
   for j in ggz-config;
   do
-    echo "configure: 24175: $i/$j" >&5
+    echo "configure: 24177: $i/$j" >&5
     if test -r "$i/$j"; then
       echo "taking that" >&5
       ggz_config_dir=$i
@@ -24390,7 +24392,7 @@
 do
   for j in $libggz_header;
   do
-    echo "configure: 24393: $i/$j" >&5
+    echo "configure: 24395: $i/$j" >&5
     if test -r "$i/$j"; then
       echo "taking that" >&5
       libggz_incdir=$i
@@ -24680,7 +24682,7 @@
 do
   for j in $ggzdmod_header;
   do
-    echo "configure: 24683: $i/$j" >&5
+    echo "configure: 24685: $i/$j" >&5
     if test -r "$i/$j"; then
       echo "taking that" >&5
       ggzdmod_incdir=$i
@@ -25795,7 +25797,7 @@
 do
   for j in $gnutls_header;
   do
-    echo "configure: 25798: $i/$j" >&5
+    echo "configure: 25800: $i/$j" >&5
     if test -r "$i/$j"; then
       echo "taking that" >&5
       gnutls_incdir=$i
@@ -25886,7 +25888,7 @@
 do
   for j in openssl/ssl.h;
   do
-    echo "configure: 25889: $i/$j" >&5
+    echo "configure: 25891: $i/$j" >&5
     if test -r "$i/$j"; then
       echo "taking that" >&5
       ssl_incdir=$i
@@ -34088,7 +34090,16 @@
 
 
   case $ac_file$ac_mode in
-    "depfiles":C) test x"$AMDEP_TRUE" != x"" || for mf in $CONFIG_FILES; do
+    "depfiles":C) test x"$AMDEP_TRUE" != x"" || # Autoconf 2.62 quotes --file arguments for eval, but not when files
+# are listed without --file.  Let's play safe and only enable the eval
+# if we detect the quoting.
+case $CONFIG_FILES in
+*\'*) eval set x "$CONFIG_FILES" ;;
+*)   set x $CONFIG_FILES ;;
+esac
+shift
+for mf
+do
   # Strip MF so we end up with the name of the file.
   mf=`echo "$mf" | sed -e 's/:.*$//'`
   # Check whether this is an Automake generated Makefile or not.
